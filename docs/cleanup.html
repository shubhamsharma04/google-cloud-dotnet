<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Unmanaged resource clean-up | Google Cloud APIs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Unmanaged resource clean-up | Google Cloud APIs ">
    <meta name="generator" content="docfx 2.3.0.0">
    
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/docfx.vendor.css">
    <link rel="stylesheet" href="styles/docfx.css">
    <link rel="stylesheet" href="styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
              <h1 id="unmanaged-resource-clean-up">Unmanaged resource clean-up</h1>
              
<p>Note: this article is only relevant to libraries which use <a href="http://www.grpc.io">gRPC</a>.
See the <a href="api-layers.html">API layers</a> article for more details around the differences between
gRPC-based APIs and REST-based APIs.</p>
<p>gRPC uses the concept of a <em>channel</em> between your application
and the service implementing an API. This consists of a network
connection and some unmanaged resources which handle its status and
multiplex the requests and responses on it.</p>
<p>Most of the time, you don&#39;t need to worry about cleaning up the
unmanaged resources from the C# client libraries.</p>
<p>If you want to handle this explicitly, you can do so by creating
channels yourself and shutting them down in an orderly fashion. For
slightly less control (but a simpler life) you can let the client
libraries create channels themselves as necessary, and shut them
down explicitly using the static <code>ShutDownDefaultChannelsAsync</code>
method which each client class exposes. (For example,
<a href="Google.Pubsub.V1/api/Google.Pubsub.V1.PublisherClient.html#Google_Pubsub_V1_PublisherClient_ShutDownDefaultChannelsAsync">PublisherClient.ShutDownDefaultChannelsAsync()</a> and
<a href="Google.Pubsub.V1/api/Google.Pubsub.V1.SubscriberClient.html#Google_Pubsub_V1_SubscriberClient_ShutDownDefaultChannelsAsync">SubscriberClient.ShutDownDefaultChannelsAsync()</a>.)</p>
<p>Finally, gRPC provides an environment-wide shutdown method of <code>GrpcEnvironment.ShutdownChannelsAsync()</code>.</p>
<p>In all of these cases, it&#39;s entirely feasible to create more channels (implicitly or explicitly)
after shutting others down... it will just require a new network connection to be opened.</p>
<p>If you do not shut down the channels explicitly, they will be closed automatically
when either the application domain is unloaded, or the process exits. For most applications, this is
perfectly adequate; explicit shutdown is only required when your application needs to ensure that
it has handled all requests appropriately before exiting.</p>

            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
             
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
